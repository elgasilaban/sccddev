<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
		"http://www.w3.org/TR/html4/strict.dtd">

<!-- Licensed Materials - Property of IBM
     5724-U18 (C) COPYRIGHT IBM CORP. 2011
     All Rights Reserved
     US Government Users Restricted Rights - Use, duplication or disclosure
     restricted by GSA ADP Schedule Contract with IBM Corp. -->

<html>
	<head>
		<title>Recording robot test</title>

		<script type="text/javascript" src="/maximo/webclient/javascript/unittests/unittest_library.js"></script>
		<script type="text/javascript">
			loadDojo();
		</script>

		<script type="text/javascript">
			dojo.require("dijit.dijit");
			dojo.require("dijit.robotx");

			dojo.addOnLoad(function()
			{
				console.log("before initRobot");
				doh.robot.initRobot('/maximo/ui?event=loadapp&value=ref');
				console.log("loading new document");

				doh.register('dojox.robot.AutoGeneratedTestGroup',{
				     name: 'autotest0',
				     timeout: 24843,
				     runTest: function(){
				          var d = new doh.Deferred();
				          doh.robot.mouseMove(617, 576, 376, 179, true);
				          doh.robot.mouseMoveAt('mx139', 455, 100, 617, 504);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
				          doh.robot.mouseMove(75, 82, 293, 935, true);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 428);
				          doh.robot.mouseMove(1580, 117, 1759, 1839, true);
				          doh.robot.mouseMoveAt('mx439', 314, 100, 8, 7.5);
				          doh.robot.mousePress({left:true, middle:false, right:false}, 1);
				          doh.robot.mouseMoveAt('mx439', 1, 100, 9, 7.5);
				          doh.robot.mouseMove(1580, 116, 7, 100, true);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 81);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 2);
				          doh.robot.mouseMove(350, 473, 1228, 2514, true);
				          doh.robot.typeKeys('2000', 779, 449);
				          doh.robot.mouseMove(1580, 780, 597, 383, true);
				          doh.robot.mouseMove(1593, 770, 600, 931, true);
				          doh.robot.mouseMoveAt('mx139', 138, 100, 1593, 698);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
				          doh.robot.mouseMove(283, 497, 128, 997, true);
				          doh.robot.mouseMoveAt('mx711', 66, 100, 39.383331298828125, 10);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
				          doh.robot.mouseMove(283, 498, 228, 100, true);
				          doh.robot.keyPress(dojo.keys.BACKSPACE, 415, {'shift':false, 'ctrl':false, 'alt':false});
				          doh.robot.keyPress(dojo.keys.TAB, 550, {'shift':false, 'ctrl':false, 'alt':false});
				          doh.robot.mouseMove(472, 54, 614, 1026, true);
				          doh.robot.mouseMoveAt('toolbarbutton_SAVE', 258, 100, 10.5, 7.5);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
				          doh.robot.mouseMove(967, 534, 980, 925, true);
				          doh.robot.mouseMoveAt('mx860', 43, 100, 30, 12);
				          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
				          doh.robot.sequence(function(){
				               if(true){//message box has the following text
				                    d.callback(true);
				               }else{
				                    d.errback(new Error('We got a failure'));
				               }
				          }, 1000);
				          return d;
				     }
				 });     
				    
				
				console.log("Starting doh...");
				doh.run();
				console.log("doh finished");
			});
		</script>
	</head>
</html>
